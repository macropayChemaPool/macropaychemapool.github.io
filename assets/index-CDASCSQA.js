import{j as I}from"./jsx-runtime-CKrituN3.js";import{r as c,R as Q}from"./index-CBqU2yxZ.js";import{c as _}from"./clsx-B-dksMZM.js";import{S as xe}from"./close-rI1dvE4l.js";import{T as me,e as ge,i as re,S as he}from"./form-BsJ3P7Gw.js";import{T as ye,u as Oe,c as $,f as Se,a as Re}from"./index-QaoBqWcy.js";import{O as ee,U as N,y as j,o as x,u as E,l as U,p as z,s as Le,d as H,x as Ie,C as V,a as $e,b as we,c as J,q as Te}from"./transition-BDdlExqH.js";import{y as Pe,h as Ce,T as ke,I as W,o as De,a as S,r as Ee,b as qe}from"./keyboard-B5upkSX_.js";import{s as Ne}from"./use-text-value-DqQEW2an.js";import{f as je,s as Ve}from"./hidden-CN1vEaDl.js";var Me=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Me||{}),Fe=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Fe||{}),Ae=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ae||{}),Be=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(Be||{});function K(e,o=i=>i){let i=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,a=qe(o(e.options.slice()),s=>s.dataRef.current.domRef.current),l=i?a.indexOf(i):null;return l===-1&&(l=null),{options:a,activeOptionIndex:l}}let Qe={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let o=e.activeOptionIndex,{isSelected:i}=e.dataRef.current,a=e.options.findIndex(l=>i(l.dataRef.current.value));return a!==-1&&(o=a),{...e,listboxState:0,activeOptionIndex:o}},2(e,o){var i;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a=K(e),l=Se(o,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeOptionIndex:l,activationTrigger:(i=o.trigger)!=null?i:1}},3:(e,o)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let i=e.searchQuery!==""?0:1,a=e.searchQuery+o.value.toLowerCase(),l=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+i).concat(e.options.slice(0,e.activeOptionIndex+i)):e.options).find(t=>{var n;return!t.dataRef.current.disabled&&((n=t.dataRef.current.textValue)==null?void 0:n.startsWith(a))}),s=l?e.options.indexOf(l):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,o)=>{let i={id:o.id,dataRef:o.dataRef},a=K(e,l=>[...l,i]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(o.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(i)),{...e,...a}},6:(e,o)=>{let i=K(e,a=>{let l=a.findIndex(s=>s.id===o.id);return l!==-1&&a.splice(l,1),a});return{...e,...i,activationTrigger:1}},7:(e,o)=>({...e,labelId:o.id})},X=c.createContext(null);X.displayName="ListboxActionsContext";function M(e){let o=c.useContext(X);if(o===null){let i=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,M),i}return o}let Y=c.createContext(null);Y.displayName="ListboxDataContext";function F(e){let o=c.useContext(Y);if(o===null){let i=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,F),i}return o}function _e(e,o){return E(o.type,Qe,e,o)}let Ue=c.Fragment;function ze(e,o){let{value:i,defaultValue:a,form:l,name:s,onChange:t,by:n=(u,p)=>u===p,disabled:d=!1,horizontal:b=!1,multiple:y=!1,...R}=e;const T=b?"horizontal":"vertical";let w=j(o),[O=y?[]:void 0,g]=me(i,t,a),[v,r]=c.useReducer(_e,{dataRef:c.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),f=c.useRef({static:!1,hold:!1}),C=c.useRef(null),k=c.useRef(null),D=c.useRef(null),h=x(typeof n=="string"?(u,p)=>{let L=n;return(u==null?void 0:u[L])===(p==null?void 0:p[L])}:n),P=c.useCallback(u=>E(m.mode,{1:()=>O.some(p=>h(p,u)),0:()=>h(O,u)}),[O]),m=c.useMemo(()=>({...v,value:O,disabled:d,mode:y?1:0,orientation:T,compare:h,isSelected:P,optionsPropsRef:f,labelRef:C,buttonRef:k,optionsRef:D}),[O,d,y,v]);U(()=>{v.dataRef.current=m},[m]),Pe([m.buttonRef,m.optionsRef],(u,p)=>{var L;r({type:1}),Ce(p,ke.Loose)||(u.preventDefault(),(L=m.buttonRef.current)==null||L.focus())},m.listboxState===0);let ae=c.useMemo(()=>({open:m.listboxState===0,disabled:d,value:O}),[m,d,O]),ne=x(u=>{let p=m.options.find(L=>L.id===u);p&&G(p.dataRef.current.value)}),oe=x(()=>{if(m.activeOptionIndex!==null){let{dataRef:u,id:p}=m.options[m.activeOptionIndex];G(u.current.value),r({type:2,focus:$.Specific,id:p})}}),le=x(()=>r({type:0})),ie=x(()=>r({type:1})),se=x((u,p,L)=>u===$.Specific?r({type:2,focus:$.Specific,id:p,trigger:L}):r({type:2,focus:u,trigger:L})),ue=x((u,p)=>(r({type:5,id:u,dataRef:p}),()=>r({type:6,id:u}))),de=x(u=>(r({type:7,id:u}),()=>r({type:7,id:null}))),G=x(u=>E(m.mode,{0(){return g==null?void 0:g(u)},1(){let p=m.value.slice(),L=p.findIndex(B=>h(B,u));return L===-1?p.push(u):p.splice(L,1),g==null?void 0:g(p)}})),ce=x(u=>r({type:3,value:u})),pe=x(()=>r({type:4})),fe=c.useMemo(()=>({onChange:G,registerOption:ue,registerLabel:de,goToOption:se,closeListbox:ie,openListbox:le,selectActiveOption:oe,selectOption:ne,search:ce,clearSearch:pe}),[]),be={ref:w},A=c.useRef(null),ve=z();return c.useEffect(()=>{A.current&&a!==void 0&&ve.addEventListener(A.current,"reset",()=>{g==null||g(a)})},[A,g]),Q.createElement(X.Provider,{value:fe},Q.createElement(Y.Provider,{value:m},Q.createElement(Le,{value:E(m.listboxState,{0:H.Open,1:H.Closed})},s!=null&&O!=null&&ge({[s]:O}).map(([u,p],L)=>Q.createElement(je,{features:Ve.Hidden,ref:L===0?B=>{var Z;A.current=(Z=B==null?void 0:B.closest("form"))!=null?Z:null}:void 0,...Ie({key:u,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,name:u,value:p})})),V({ourProps:be,theirProps:R,slot:ae,defaultTag:Ue,name:"Listbox"}))))}let He="button";function We(e,o){var i;let a=W(),{id:l=`headlessui-listbox-button-${a}`,...s}=e,t=F("Listbox.Button"),n=M("Listbox.Button"),d=j(t.buttonRef,o),b=z(),y=x(v=>{switch(v.key){case S.Space:case S.Enter:case S.ArrowDown:v.preventDefault(),n.openListbox(),b.nextFrame(()=>{t.value||n.goToOption($.First)});break;case S.ArrowUp:v.preventDefault(),n.openListbox(),b.nextFrame(()=>{t.value||n.goToOption($.Last)});break}}),R=x(v=>{switch(v.key){case S.Space:v.preventDefault();break}}),T=x(v=>{if(Ee(v.currentTarget))return v.preventDefault();t.listboxState===0?(n.closeListbox(),b.nextFrame(()=>{var r;return(r=t.buttonRef.current)==null?void 0:r.focus({preventScroll:!0})})):(v.preventDefault(),n.openListbox())}),w=re(()=>{if(t.labelId)return[t.labelId,l].join(" ")},[t.labelId,l]),O=c.useMemo(()=>({open:t.listboxState===0,disabled:t.disabled,value:t.value}),[t]),g={ref:d,id:l,type:ye(e,t.buttonRef),"aria-haspopup":"listbox","aria-controls":(i=t.optionsRef.current)==null?void 0:i.id,"aria-expanded":t.listboxState===0,"aria-labelledby":w,disabled:t.disabled,onKeyDown:y,onKeyUp:R,onClick:T};return V({ourProps:g,theirProps:s,slot:O,defaultTag:He,name:"Listbox.Button"})}let Ge="label";function Ke(e,o){let i=W(),{id:a=`headlessui-listbox-label-${i}`,...l}=e,s=F("Listbox.Label"),t=M("Listbox.Label"),n=j(s.labelRef,o);U(()=>t.registerLabel(a),[a]);let d=x(()=>{var y;return(y=s.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})}),b=c.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return V({ourProps:{ref:n,id:a,onClick:d},theirProps:l,slot:b,defaultTag:Ge,name:"Listbox.Label"})}let Je="ul",Xe=ee.RenderStrategy|ee.Static;function Ye(e,o){var i;let a=W(),{id:l=`headlessui-listbox-options-${a}`,...s}=e,t=F("Listbox.Options"),n=M("Listbox.Options"),d=j(t.optionsRef,o),b=z(),y=z(),R=$e(),T=R!==null?(R&H.Open)===H.Open:t.listboxState===0;c.useEffect(()=>{var r;let f=t.optionsRef.current;f&&t.listboxState===0&&f!==((r=De(f))==null?void 0:r.activeElement)&&f.focus({preventScroll:!0})},[t.listboxState,t.optionsRef]);let w=x(r=>{switch(y.dispose(),r.key){case S.Space:if(t.searchQuery!=="")return r.preventDefault(),r.stopPropagation(),n.search(r.key);case S.Enter:if(r.preventDefault(),r.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:f}=t.options[t.activeOptionIndex];n.onChange(f.current.value)}t.mode===0&&(n.closeListbox(),J().nextFrame(()=>{var f;return(f=t.buttonRef.current)==null?void 0:f.focus({preventScroll:!0})}));break;case E(t.orientation,{vertical:S.ArrowDown,horizontal:S.ArrowRight}):return r.preventDefault(),r.stopPropagation(),n.goToOption($.Next);case E(t.orientation,{vertical:S.ArrowUp,horizontal:S.ArrowLeft}):return r.preventDefault(),r.stopPropagation(),n.goToOption($.Previous);case S.Home:case S.PageUp:return r.preventDefault(),r.stopPropagation(),n.goToOption($.First);case S.End:case S.PageDown:return r.preventDefault(),r.stopPropagation(),n.goToOption($.Last);case S.Escape:return r.preventDefault(),r.stopPropagation(),n.closeListbox(),b.nextFrame(()=>{var f;return(f=t.buttonRef.current)==null?void 0:f.focus({preventScroll:!0})});case S.Tab:r.preventDefault(),r.stopPropagation();break;default:r.key.length===1&&(n.search(r.key),y.setTimeout(()=>n.clearSearch(),350));break}}),O=re(()=>{var r;return(r=t.buttonRef.current)==null?void 0:r.id},[t.buttonRef.current]),g=c.useMemo(()=>({open:t.listboxState===0}),[t]),v={"aria-activedescendant":t.activeOptionIndex===null||(i=t.options[t.activeOptionIndex])==null?void 0:i.id,"aria-multiselectable":t.mode===1?!0:void 0,"aria-labelledby":O,"aria-orientation":t.orientation,id:l,onKeyDown:w,role:"listbox",tabIndex:0,ref:d};return V({ourProps:v,theirProps:s,slot:g,defaultTag:Je,features:Xe,visible:T,name:"Listbox.Options"})}let Ze="li";function et(e,o){let i=W(),{id:a=`headlessui-listbox-option-${i}`,disabled:l=!1,value:s,...t}=e,n=F("Listbox.Option"),d=M("Listbox.Option"),b=n.activeOptionIndex!==null?n.options[n.activeOptionIndex].id===a:!1,y=n.isSelected(s),R=c.useRef(null),T=Ne(R),w=we({disabled:l,value:s,domRef:R,get textValue(){return T()}}),O=j(o,R);U(()=>{if(n.listboxState!==0||!b||n.activationTrigger===0)return;let h=J();return h.requestAnimationFrame(()=>{var P,m;(m=(P=R.current)==null?void 0:P.scrollIntoView)==null||m.call(P,{block:"nearest"})}),h.dispose},[R,b,n.listboxState,n.activationTrigger,n.activeOptionIndex]),U(()=>d.registerOption(a,w),[w,a]);let g=x(h=>{if(l)return h.preventDefault();d.onChange(s),n.mode===0&&(d.closeListbox(),J().nextFrame(()=>{var P;return(P=n.buttonRef.current)==null?void 0:P.focus({preventScroll:!0})}))}),v=x(()=>{if(l)return d.goToOption($.Nothing);d.goToOption($.Specific,a)}),r=Oe(),f=x(h=>r.update(h)),C=x(h=>{r.wasMoved(h)&&(l||b||d.goToOption($.Specific,a,0))}),k=x(h=>{r.wasMoved(h)&&(l||b&&d.goToOption($.Nothing))}),D=c.useMemo(()=>({active:b,selected:y,disabled:l}),[b,y,l]);return V({ourProps:{id:a,ref:O,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":y,disabled:void 0,onClick:g,onFocus:v,onPointerEnter:f,onMouseEnter:f,onPointerMove:C,onMouseMove:C,onPointerLeave:k,onMouseLeave:k},theirProps:t,slot:D,defaultTag:Ze,name:"Listbox.Option"})}let tt=N(ze),rt=N(We),at=N(Ke),nt=N(Ye),ot=N(et),q=Object.assign(tt,{Button:rt,Label:at,Options:nt,Option:ot});const te=({options:e,defaultValue:o,placeholder:i="Selecciona una opción",size:a="lg",className:l="",disabled:s=!1,error:t,label:n,readOnly:d=!1,type:b="normal",required:y=!1,onChange:R,...T})=>{const w={value:"",label:`${i}`},O=[{...w},...e],[g,v]=c.useState(o??O[0]),r=()=>v(w);return I.jsx("div",{className:"relative z-0 w-full",children:I.jsx(q,{value:g,onChange:f=>{v(f),R&&R(f)},disabled:s||d,defaultValue:o,rest:T,children:({open:f})=>I.jsxs(I.Fragment,{children:[!!n&&I.jsxs(q.Label,{className:_("text-gray-10 mb-2 text-base font-normal",{"block leading-6":b==="normal","absolute text-xl duration-300 transform -translate-y-6 scale-75 top-0 origin-[0]":b==="underline"}),children:[I.jsx("label",{className:"text-red-500 mr-1",children:y&&"*"}),n&&`${n}`]}),I.jsxs("div",{className:"w-full flex items-center align-middle justify-center",children:[I.jsxs(q.Button,{className:_("relative w-full text bg-white truncate text-left pl-3 ring-1 ring-inset pr-8",{"h-6 text-sm":a==="sm","h-8 text-base":a==="md","h-10 text-lg":a==="lg","h-12 text-lg":a==="xl","cursor-not-allowed ring-gray-5 bg-gray-4 text-gray-6":s,"text-gray-6":!g.value,"ring-gray-7":!s,"\n                rounded-lg\n                font-normal focus-visible:outline-none\n                focus:ring-primary-blue ":b==="normal","block\n                  w-full\n                  ring-transparent\n                  border-b-2 border-gray-300\n                focus:border-primary-blue\n                  focus-visible:outline-none bg-transparent\n                  appearance-none\n                ":b==="underline","ring-red-400 border-red-400 focus:ring-red-600 focus:border-red-600":t&&!s,"cursor-not-allowed text-primary-blue":d,[l]:l}),children:[g.label,!g.value&&I.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:I.jsx(he,{className:"h-5 w-5","aria-hidden":"true"})})]}),!!g.value&&I.jsx("span",{className:_("absolute right-0 flex items-center pr-4 text-gray-6",{"cursor-not-allowed":s||d,"text-primary-blue":d,"hover:text-gray-8 z-50 cursor-pointer transition-all duration-100 ease-linear":!s&&!d}),children:I.jsx(xe,{className:"h-5 w-5","aria-hidden":"true",onClick:()=>!s&&!d&&r()})})]}),I.jsx(Te,{show:f,as:c.Fragment,...Re,children:I.jsx(q.Options,{className:`
            bg-white
            absolute w-full
            overflow-auto
            rounded-lg
            text-base
            shadow-md
            ring-black/5
            focus:outline-none
            z-50
            p-1`,children:e.map((C,k)=>I.jsx(q.Option,{className:({active:D,selected:h})=>_("relative w-100 py-2 select-none px-4 rounded-lg cursor-pointer",{"bg-gray-4":!h&&D,"bg-tints-Blue-90 font-bold":h||h&&D}),value:C,children:C.label},`${k}_-_${n}`))})})]})})})};try{te.displayName="Select",te.__docgenInfo={description:"",displayName:"Select",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"TOption[]"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"TOption"}},placeholder:{defaultValue:{value:"Selecciona una opción"},description:"",name:"placeholder",required:!1,type:{name:"string"}},size:{defaultValue:{value:"lg"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},type:{defaultValue:{value:"normal"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"underline"'}]}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"Record<string, ReactNode>"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: TOption) => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}export{te as S};
